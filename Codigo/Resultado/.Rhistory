library(readxl)
library(readr)
library(tidyverse)
base_final <- read_excel("base_final.xlsx")
base_final <- read_excel("~/Desktop/Data_Cactus/BaseDados/Microdados/base_final.xlsx")
ano_17 <- base_final %>% filter(ano == 2017)
View(ano_17)
View(ano_17)
ano_17 <- ano_17 %>%
mutate(across(36:41, ~ str_replace_all(.x, "NA", NA_character_))) %>%
mutate(across(36:41, ~ as.numeric(.x)))
ano_17 <- base_final %>% filter(ano == 2017)
ano_17 <- base_final %>%
filter(ano == 2017) %>%
select(`Código da Escola`, MT_9o, IDEB_9o, `Proficiência Média`) %>%
rename(ID_ESCOLA = `Código da Escola`,
MT_9o_17 = MT_9o,
IDEB_9o_17 = IDEB_9o,
SPAECE_17 = `Proficiência Média`)
View(ano_17)
ano_17 <- ano_17 %>% na.omit
View(ano_17)
ano_19 <- base_final %>% filter(ano == 2019)
ano_19 <- ano_19 %>%
mutate(across(36:41, ~ str_replace_all(.x, "NA", NA_character_))) %>%
mutate(across(36:41, ~ as.numeric(.x)))
controles1 <- read_xlsx("~/Desktop/Data_Cactus/BaseDados/Microdados/controleSAEB.xlsx")
View(controles1)
controles2 <- read_csv("~/Desktop/Data_Cactus/BaseDados/Microdados/Controles_2.csv")
controles1 <- controles1 %>% select(-1) %>% mutate(ano = 2019)
controles <- left_join(controles2, controles1, by = c("ID_ESCOLA" = "CO_ENTIDADE", "ano"))
ano_19 <- ano_19 %>% select(-c("MT_5o",
"IDEB_5o",
"Rede",
"Código da CREDE",
"CREDE",
"Escola",
"Desvio Padrão",
"Indicação do Padrão de Desempenho",
"Muito Crítico",
"Crítico",
"Intermediário",
"Adequado",
"Alunos Previstos",
"Alunos Efetivos",
"Percentual de Participação",
"Taxa de Participação",
"Proficiência Padronizada",
"Fator de Ajuste",
"Número de Alunos no Muito Crítico",
"Número de Alunos no Crítico",
"Número de Alunos no Intermediário",
"Número de Alunos no Adequado",
"IDE EF MT",
"IDE Médio EF",
"Nome do Município",
"Nome da Escola.y"))
ano_19 <- ano_19 %>% na.omit
base2019 <- left_join(ano_19, controles, by = c("Código da Escola" = "ID_ESCOLA", "ano"))
View(base2019)
View(base2019)
base2019 <- left_join(base2019, ano_17, by = c("Código da Escola" = "ID_ESCOLA"))
View(base2019)
na.omit(base2019)
na.omit(base2019) %>%
count(cactus)
base2019 <- na.omit(base2019)
summary(lm(MT_9o ~ cactus, data = base2019)) # Nota de matemática 9º ano
summary(lm(IDEB_9o ~ cactus, data = base2019)) # Nota IDEB 9º ano
summary(lm(`Proficiência Média` ~ cactus, data = base2019)) # Proficiência SPAECE 9º ano
summary(lm(MT_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti, data = base2019))
summary(lm(IDEB_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti, data = base2019))
summary(lm(`Proficiência Média` ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti, data = base2019))
View(base2019)
summary(lm(MT_9o ~ cactus + MT_9o_17, data = base2019))
View(base2019)
View(base2019)
summary(lm(IDEB_9o ~ cactus + IDEB_9o_17, data = base2019))
summary(lm(`Proficiência Média` ~ cactus + SPAECE_17, data = base2019))
summary(lm(MT_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
MT_9o_17, data = base2019))
summary(lm(IDEB_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
IDEB_9o_17, data = base2019))
summary(lm(`Proficiência Média` ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
SPAECE_17, data = base2019))
summary(lm(ln(MT_9o) ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
MT_9o_17, data = base2019))
summary(lm(log(MT_9o) ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
MT_9o_17, data = base2019))
summary(lm(log(IDEB_9o) ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
IDEB_9o_17, data = base2019))
base2019 %>%
ggplot(aes(x = `Código da Escola`, y = log(IDEB_9o))) +
geom_point() +
theme_bw()
base2019 %>%
ggplot(aes(x = Nome_Escola, y = log(IDEB_9o))) +
geom_point() +
theme_bw()
base2019 %>%
ggplot(aes(x = Nome_Escola, y = IDEB_9o)) +
geom_point() +
theme_bw()
summary(lm(log(`Proficiência Média`) ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
SPAECE_17, data = base2019))
urbano <- read_csv("~/Desktop/Data_Cactus/BaseDados/Microdados/urbano.csv")
View(urbano)
urbano <- read_csv("~/Desktop/Data_Cactus/BaseDados/Microdados/urbano.csv")
View(urbano)
urbano %>% mutate(urbano = ifelse(urbano == 2, 0, 1))
View(urbano)
urbano <- urbano %>% mutate(urbano = ifelse(urbano == 2, 0, 1))
View(urbano)
View(urbano)
base2019 %>%
left_join(urbano, by = c("Código da Escola" = "ID_ESCOLA"))
base2019 <- base2019 %>%
left_join(urbano, by = c("Código da Escola" = "ID_ESCOLA"))
View(base2019)
View(urbano)
base2019 %>%
count(urbano)
View(urbano)
View(base2019)
base_final <- read_excel("~/Desktop/Data_Cactus/BaseDados/Microdados/base_final.xlsx")
ano_19 <- base_final %>% filter(ano == 2019)
ano_19 <- ano_19 %>%
mutate(across(36:41, ~ str_replace_all(.x, "NA", NA_character_))) %>%
mutate(across(36:41, ~ as.numeric(.x)))
ano_17 <- base_final %>%
filter(ano == 2017) %>%
select(`Código da Escola`, MT_9o, IDEB_9o, `Proficiência Média`) %>%
rename(ID_ESCOLA = `Código da Escola`,
MT_9o_17 = MT_9o,
IDEB_9o_17 = IDEB_9o,
SPAECE_17 = `Proficiência Média`)
ano_17 <- ano_17 %>% na.omit
controles1 <- read_xlsx("~/Desktop/Data_Cactus/BaseDados/Microdados/controleSAEB.xlsx")
controles2 <- read_csv("~/Desktop/Data_Cactus/BaseDados/Microdados/Controles_2.csv")
urbano <- read_csv("~/Desktop/Data_Cactus/BaseDados/Microdados/urbano.csv")
controles1 <- controles1 %>% select(-1) %>% mutate(ano = 2019)
controles <- left_join(controles2, controles1, by = c("ID_ESCOLA" = "CO_ENTIDADE", "ano"))
urbano <- urbano %>% mutate(urbano = ifelse(urbano == 2, 0, 1))
ano_19 <- ano_19 %>% select(-c("MT_5o",
"IDEB_5o",
"Rede",
"Código da CREDE",
"CREDE",
"Escola",
"Desvio Padrão",
"Indicação do Padrão de Desempenho",
"Muito Crítico",
"Crítico",
"Intermediário",
"Adequado",
"Alunos Previstos",
"Alunos Efetivos",
"Percentual de Participação",
"Taxa de Participação",
"Proficiência Padronizada",
"Fator de Ajuste",
"Número de Alunos no Muito Crítico",
"Número de Alunos no Crítico",
"Número de Alunos no Intermediário",
"Número de Alunos no Adequado",
"IDE EF MT",
"IDE Médio EF",
"Nome do Município",
"Nome da Escola.y"))
ano_19 <- ano_19 %>% na.omit
base2019 <- left_join(ano_19, controles, by = c("Código da Escola" = "ID_ESCOLA", "ano"))
base2019 <- left_join(base2019, ano_17, by = c("Código da Escola" = "ID_ESCOLA"))
base2019 <- na.omit(base2019)
View(base2019)
View(urbano)
urbano <- read_csv("~/Desktop/Data_Cactus/BaseDados/Microdados/urbano.csv")
urbano <- urbano %>% mutate(urbano17 = ifelse(urbano17 == 2, 0, 1))
View(urbano)
base2019 %>%
left_join(urbano, by = c("Código da Escola" = "ID_ESCOLA"))
count(urbano$urbano17)
urbano %>%
count(urbano17)
base2019_1 <- base2019 %>%
left_join(urbano, by = c("Código da Escola" = "ID_ESCOLA"))
View(base2019_1)
base2019_1 %>%
count(urbano17)
rm(base2019_1)
base2019 <- base2019 %>%
left_join(urbano, by = c("Código da Escola" = "ID_ESCOLA"))
summary(lm(MT_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
urbano17, data = base2019))
summary(lm(IDEB_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
urbano, data = base2019))
summary(lm(IDEB_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
urbano17, data = base2019))
summary(lm(`Proficiência Média` ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
urbano17, data = base2019))
summary(lm(MT_9o ~ cactus + urbano17, data = base2019))
summary(lm(MT_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
MT_9o_17 +
urbano17, data = base2019))
summary(lm(IDEB_9o ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
IDEB_9o_17 +
urbano17, data = base2019))
summary(lm(`Proficiência Média` ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
SPAECE_17 +
urbano17, data = base2019))
summary(lm(log(`Proficiência Média`) ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
SPAECE_17 +
urbano17, data = base2019))
summary(lm(log(IDEB_9o) ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
IDEB_9o_17 +
urbano17, data = base2019))
summary(lm(log(MT_9o) ~ cactus +
porc_cor_prePar +
porc_sexo_masc +
reprovacao +
superior +
porc_trans +
carro +
quanti +
MT_9o_17 +
urbano17, data = base2019))
